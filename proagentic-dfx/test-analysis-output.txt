
> proagentic-dfx@0.1.0 test
> vitest run --run


[1m[46m RUN [49m[22m [36mv4.0.15 [39m[90mC:/Users/chine/Projects/proagentic-dfx/proagentic-dfx[39m

 [31m‚ùØ[39m src/__tests__/lib/chart-visualization.test.ts [2m([22m[2m60 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[32m 37[2mms[22m[39m
       [32m‚úì[39m should calculate domain for bar chart data[32m 2[2mms[22m[39m
       [32m‚úì[39m should calculate domain for line chart with negative values[32m 1[2mms[22m[39m
       [32m‚úì[39m should calculate domain for scatter plot data[32m 1[2mms[22m[39m
       [32m‚úì[39m should handle single data point[32m 1[2mms[22m[39m
       [32m‚úì[39m should handle all zero values[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle values with large spread[32m 0[2mms[22m[39m
       [32m‚úì[39m should generate ticks for bar chart Y-axis[32m 1[2mms[22m[39m
       [32m‚úì[39m should generate ticks for percentage axis (0-100)[32m 1[2mms[22m[39m
       [32m‚úì[39m should generate consistent spacing ticks[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle logarithmic scale range[32m 0[2mms[22m[39m
       [32m‚úì[39m should generate enough ticks for readability[32m 0[2mms[22m[39m
       [32m‚úì[39m should not generate too many ticks[32m 0[2mms[22m[39m
       [32m‚úì[39m should format large values for Y-axis[32m 0[2mms[22m[39m
       [32m‚úì[39m should format medium values for Y-axis[32m 0[2mms[22m[39m
       [32m‚úì[39m should format small values for Y-axis[32m 0[2mms[22m[39m
       [32m‚úì[39m should format scientific notation for very small values[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle negative values in axis labels[32m 0[2mms[22m[39m
[31m       [31m√ó[31m should format zero for axis[39m[32m 7[2mms[22m[39m
       [32m‚úì[39m should format stress values for tooltip[32m 0[2mms[22m[39m
       [32m‚úì[39m should format cost values in scientific notation[32m 0[2mms[22m[39m
       [32m‚úì[39m should format reliability percentages[32m 0[2mms[22m[39m
       [32m‚úì[39m should format temperature values[32m 0[2mms[22m[39m
       [32m‚úì[39m should format budget values[32m 0[2mms[22m[39m
       [32m‚úì[39m should format underscore-separated labels[32m 0[2mms[22m[39m
       [32m‚úì[39m should capitalize each word in label[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle empty chart data array[32m 1[2mms[22m[39m
       [32m‚úì[39m should handle single data point in chart[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle all identical values[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle mixed positive and negative values[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle very large value ranges[32m 0[2mms[22m[39m
       [32m‚úì[39m should validate NaN values[32m 0[2mms[22m[39m
       [32m‚úì[39m should validate Infinity values[32m 1[2mms[22m[39m
       [32m‚úì[39m should normalize values to [0,1] for color mapping[32m 1[2mms[22m[39m
       [32m‚úì[39m should return min/max with normalized values[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle normalization for diverse data ranges[32m 0[2mms[22m[39m
       [32m‚úì[39m should map values to colors for heatmap[32m 1[2mms[22m[39m
       [32m‚úì[39m should produce distinct colors for distinct values[32m 0[2mms[22m[39m
       [32m‚úì[39m should produce smooth color gradients[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle color mapping for categorical data[32m 2[2mms[22m[39m
       [32m‚úì[39m should handle chart with single value across multiple series[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle asymmetric data distribution[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle values with very different magnitudes[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle zero-crossing data[32m 0[2mms[22m[39m
       [32m‚úì[39m should format value near precision boundary[32m 0[2mms[22m[39m
       [32m‚úì[39m should format very large numbers[32m 0[2mms[22m[39m
       [32m‚úì[39m should format very small numbers[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle formatting with missing unit[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle formatting with null options[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle multi-series data normalization[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle domain calculation across multiple datasets[32m 0[2mms[22m[39m
       [32m‚úì[39m should generate consistent ticks for multi-series chart[32m 0[2mms[22m[39m
       [32m‚úì[39m should recalculate domain when data changes[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle incremental data additions[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle real-time data streaming[32m 0[2mms[22m[39m
       [32m‚úì[39m should prepare complete chart configuration[32m 0[2mms[22m[39m
       [32m‚úì[39m should prepare multi-series chart configuration[32m 0[2mms[22m[39m
       [32m‚úì[39m should prepare color scale for heatmap[32m 1[2mms[22m[39m
       [32m‚úì[39m should handle large datasets efficiently[32m 4[2mms[22m[39m
       [32m‚úì[39m should cache tick calculations[32m 0[2mms[22m[39m
       [32m‚úì[39m should format values incrementally[32m 0[2mms[22m[39m
 [31m‚ùØ[39m src/__tests__/lib/charts.test.ts [2m([22m[2m121 tests[22m[2m | [22m[31m3 failed[39m[2m)[22m[32m 65[2mms[22m[39m
       [32m‚úì[39m should interpolate between two colors at midpoint[32m 2[2mms[22m[39m
       [32m‚úì[39m should return first color at t=0[32m 1[2mms[22m[39m
       [32m‚úì[39m should return last color at t=1[32m 0[2mms[22m[39m
       [32m‚úì[39m should clamp t values outside [0,1][32m 0[2mms[22m[39m
       [32m‚úì[39m should handle multi-color scales with more than 2 colors[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle single color array[32m 0[2mms[22m[39m
       [32m‚úì[39m should map value to reliability color scale[32m 0[2mms[22m[39m
       [32m‚úì[39m should map value to cost color scale (inverted red-green)[32m 0[2mms[22m[39m
       [32m‚úì[39m should map value to performance color scale[32m 0[2mms[22m[39m
       [32m‚úì[39m should map value to gradient color scale[32m 0[2mms[22m[39m
       [32m‚úì[39m should return default color for unknown color mode[32m 0[2mms[22m[39m
       [32m‚úì[39m should return default color when min equals max[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle invert flag[32m 1[2mms[22m[39m
       [32m‚úì[39m should handle value below min[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle value above max[32m 0[2mms[22m[39m
       [32m‚úì[39m should have valid PRIMARY_COLORS array[32m 0[2mms[22m[39m
       [32m‚úì[39m should have valid SEQUENTIAL_SCALES[32m 2[2mms[22m[39m
       [32m‚úì[39m should have valid DIVERGING_SCALES[32m 1[2mms[22m[39m
       [32m‚úì[39m should have valid CATEGORY_COLORS[32m 1[2mms[22m[39m
       [32m‚úì[39m should have valid STATUS_COLORS[32m 0[2mms[22m[39m
       [32m‚úì[39m should format regular numbers with precision[32m 0[2mms[22m[39m
       [32m‚úì[39m should format null/undefined as dash[32m 0[2mms[22m[39m
       [32m‚úì[39m should format NaN as dash[32m 0[2mms[22m[39m
       [32m‚úì[39m should use scientific notation for very small numbers[32m 0[2mms[22m[39m
       [32m‚úì[39m should force scientific notation when isScientific is true[32m 0[2mms[22m[39m
       [32m‚úì[39m should use compact notation for large numbers[32m 0[2mms[22m[39m
       [32m‚úì[39m should not use compact notation when compact is false[32m 0[2mms[22m[39m
       [32m‚úì[39m should add unit suffix when provided[32m 0[2mms[22m[39m
[31m       [31m√ó[31m should handle zero[39m[32m 9[2mms[22m[39m
       [32m‚úì[39m should handle negative numbers[32m 0[2mms[22m[39m
       [32m‚úì[39m should format axis tick with compact notation[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle scientific notation for very small values[32m 0[2mms[22m[39m
       [32m‚úì[39m should have limited precision for readability[32m 0[2mms[22m[39m
       [32m‚úì[39m should format decimal as percentage[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle custom precision[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle zero[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle 100%[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle values > 1[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle negative percentages[32m 0[2mms[22m[39m
       [32m‚úì[39m should normalize array to [0,1] range[32m 1[2mms[22m[39m
       [32m‚úì[39m should handle identical values[32m 1[2mms[22m[39m
       [32m‚úì[39m should handle negative values[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle single value[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle empty array[32m 1[2mms[22m[39m
       [32m‚úì[39m should handle very large range[32m 0[2mms[22m[39m
       [32m‚úì[39m should normalize using log scale[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle values with zero[32m 1[2mms[22m[39m
       [32m‚úì[39m should handle all zero values[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle negative values[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle very small values[32m 0[2mms[22m[39m
       [32m‚úì[39m should calculate domain with default padding[32m 0[2mms[22m[39m
       [32m‚úì[39m should calculate domain with custom padding[32m 0[2mms[22m[39m
       [32m‚úì[39m should not go below zero with default padding[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle zero padding[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle identical values[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle negative values[32m 0[2mms[22m[39m
       [32m‚úì[39m should generate nice tick values[32m 0[2mms[22m[39m
       [32m‚úì[39m should respect target count approximately[32m 1[2mms[22m[39m
       [32m‚úì[39m should use round step sizes[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle very small ranges[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle large ranges[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle negative ranges[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle single tick target[32m 0[2mms[22m[39m
       [32m‚úì[39m should format tooltip data from object[32m 1[2mms[22m[39m
       [32m‚úì[39m should format numeric values with config[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle string values[32m 0[2mms[22m[39m
       [32m‚úì[39m should capitalize labels[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle mixed numeric and string values[32m 1[2mms[22m[39m
       [32m‚úì[39m should handle empty data object[32m 0[2mms[22m[39m
     [32m‚úì[39m should have valid DEFAULT_CHART_CONFIG[32m 0[2mms[22m[39m
       [32m‚úì[39m should interpolate color from jet colormap[32m 0[2mms[22m[39m
       [32m‚úì[39m should interpolate color from thermal colormap[32m 0[2mms[22m[39m
       [32m‚úì[39m should interpolate color from viridis colormap[32m 0[2mms[22m[39m
       [32m‚úì[39m should interpolate color from plasma colormap[32m 0[2mms[22m[39m
       [32m‚úì[39m should interpolate color from coolwarm colormap[32m 0[2mms[22m[39m
       [32m‚úì[39m should clamp values to [0,1] normalization[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle min equals max[32m 0[2mms[22m[39m
       [32m‚úì[39m should map value at min to start of colormap[32m 0[2mms[22m[39m
       [32m‚úì[39m should map value at max to end of colormap[32m 0[2mms[22m[39m
       [32m‚úì[39m should return hex color string[32m 0[2mms[22m[39m
       [32m‚úì[39m should be valid hex format for all colormaps[32m 0[2mms[22m[39m
       [32m‚úì[39m should produce consistent results for same input[32m 0[2mms[22m[39m
       [32m‚úì[39m should return CSS rgb() string[32m 0[2mms[22m[39m
       [32m‚úì[39m should produce valid rgb values[32m 0[2mms[22m[39m
       [32m‚úì[39m should return array of color stops[32m 0[2mms[22m[39m
       [32m‚úì[39m should have offset and color properties[32m 2[2mms[22m[39m
       [32m‚úì[39m should start at 0 and end at 1[32m 0[2mms[22m[39m
       [32m‚úì[39m should respect custom numStops parameter[32m 0[2mms[22m[39m
       [32m‚úì[39m should work with all colormap types[32m 0[2mms[22m[39m
       [32m‚úì[39m should return array of hex colors[32m 0[2mms[22m[39m
       [32m‚úì[39m should respect numColors parameter[32m 0[2mms[22m[39m
       [32m‚úì[39m should use default numColors if not provided[32m 0[2mms[22m[39m
       [32m‚úì[39m should sample evenly across colormap[32m 0[2mms[22m[39m
       [32m‚úì[39m should work with all colormaps[32m 0[2mms[22m[39m
       [32m‚úì[39m should return array of colormap names[32m 0[2mms[22m[39m
       [32m‚úì[39m should include all expected colormaps[32m 0[2mms[22m[39m
       [32m‚úì[39m should return string description for each colormap[32m 1[2mms[22m[39m
       [32m‚úì[39m should describe jet colormap[32m 0[2mms[22m[39m
       [32m‚úì[39m should describe thermal colormap[32m 0[2mms[22m[39m
       [32m‚úì[39m should return valid CSS gradient string[32m 0[2mms[22m[39m
       [32m‚úì[39m should respect direction parameter[32m 0[2mms[22m[39m
       [32m‚úì[39m should respect numStops parameter[32m 0[2mms[22m[39m
       [32m‚úì[39m should include percentages in gradient[32m 0[2mms[22m[39m
       [32m‚úì[39m should work with all colormaps[32m 0[2mms[22m[39m
       [32m‚úì[39m should return array of normalized RGB values[32m 0[2mms[22m[39m
       [32m‚úì[39m should normalize values to [0,1][32m 0[2mms[22m[39m
       [32m‚úì[39m should work with all colormaps[32m 1[2mms[22m[39m
       [32m‚úì[39m should return flat array of RGB values[32m 0[2mms[22m[39m
       [32m‚úì[39m should preserve order of input values[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle empty array[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle single value[32m 0[2mms[22m[39m
       [32m‚úì[39m should all values be normalized [0,1][32m 1[2mms[22m[39m
       [32m‚úì[39m should work with all colormaps[32m 0[2mms[22m[39m
[31m       [31m√ó[31m should handle Infinity in values[39m[32m 5[2mms[22m[39m
       [32m‚úì[39m should format Infinity as dash[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle NaN in color interpolation[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle empty arrays in normalization[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle very large numbers[32m 0[2mms[22m[39m
       [32m‚úì[39m should handle very small numbers[32m 0[2mms[22m[39m
[31m       [31m√ó[31m should handle invalid format gracefully[39m[32m 2[2mms[22m[39m
       [32m‚úì[39m should handle missing config options[32m 0[2mms[22m[39m
[90mstdout[2m | src/__tests__/architecture-no-hardcoded-data.test.ts[2m > [22m[2mArchitecture: No LLM-Generated Mock Data[2m > [22m[2mshould scan components directory for LLM mock patterns
[22m[39m
Components: 0 violations in 142 files
Categories: {}

[90mstdout[2m | src/__tests__/architecture-no-hardcoded-data.test.ts[2m > [22m[2mArchitecture: No LLM-Generated Mock Data[2m > [22m[2mshould scan lib/data directory for LLM mock patterns
[22m[39m
lib/data: 0 violations in 1 files

[90mstdout[2m | src/__tests__/architecture-no-hardcoded-data.test.ts[2m > [22m[2mArchitecture: No LLM-Generated Mock Data[2m > [22m[2mshould flag API routes in frontend (critical violation)
[22m[39m
API routes: 4 route files (should be 0)

[90mstdout[2m | src/__tests__/architecture-no-hardcoded-data.test.ts[2m > [22m[2mArchitecture: No LLM-Generated Mock Data[2m > [22m[2mshould generate comprehensive LLM mock data report
[22m[39m
==========================================================================================
 LLM MOCK DATA DETECTION REPORT - Enhanced Architecture Test
==========================================================================================

SUMMARY
-------
Total Violations:  4
Files Scanned:     147
Files Affected:    4

SEVERITY BREAKDOWN
------------------
  CRITICAL:    4 ‚ö†Ô∏è  BLOCKING
  HIGH:        0 ‚úì
  MEDIUM:      0
  LOW:         0

CATEGORY BREAKDOWN
------------------
  üî¥ API Routes:    4

==========================================================================================
DETAILED VIOLATIONS BY FILE
==========================================================================================

----------------------------------------------------------------------
FILE: app\api\auth\route.ts
VIOLATIONS: 1 (Critical: 1, High: 0)
----------------------------------------------------------------------

  üî¥ Line 1: [CRITICAL] API Routes
     Pattern: API route file exists in frontend (should be in mock server only)
     Reason:  Frontend should not have API routes - use mock server

----------------------------------------------------------------------
FILE: app\api\designs\route.ts
VIOLATIONS: 1 (Critical: 1, High: 0)
----------------------------------------------------------------------

  üî¥ Line 1: [CRITICAL] API Routes
     Pattern: API route file exists in frontend (should be in mock server only)
     Reason:  Frontend should not have API routes - use mock server

----------------------------------------------------------------------
FILE: app\api\designs\[designId]\route.ts
VIOLATIONS: 1 (Critical: 1, High: 0)
----------------------------------------------------------------------

  üî¥ Line 1: [CRITICAL] API Routes
     Pattern: API route file exists in frontend (should be in mock server only)
     Reason:  Frontend should not have API routes - use mock server

----------------------------------------------------------------------
FILE: app\api\designs\[designId]\stress\route.ts
VIOLATIONS: 1 (Critical: 1, High: 0)
----------------------------------------------------------------------

  üî¥ Line 1: [CRITICAL] API Routes
     Pattern: API route file exists in frontend (should be in mock server only)
     Reason:  Frontend should not have API routes - use mock server

==========================================================================================
HOW TO FIX
==========================================================================================

1. CRITICAL - API Routes:
   Delete all files in src/app/api/ - these should ONLY exist in mock server

2. CRITICAL - Variable Naming:
   Remove hardcoded arrays. Data should come from props passed by parent
   components that fetch from API.

3. HIGH - Engineering Mock Values:
   These values must come from API endpoints like:
   - GET /api/designs/{id}/stress
   - GET /api/designs/{id}/failure
   - GET /api/designs/{id}/thermal

4. MEDIUM - Round Numbers & Perfect Data:
   Real data has noise. If you see perfect sequences, it's generated.

5. LOW - Status Strings:
   May be acceptable for enums/types, but review if data arrays use them.

==========================================================================================


Report saved to: C:\Users\chine\Projects\proagentic-dfx\proagentic-dfx\src\__tests__\llm-mock-data-violations-report.txt
JSON saved to: C:\Users\chine\Projects\proagentic-dfx\proagentic-dfx\src\__tests__\llm-mock-data-violations.json

 [31m‚ùØ[39m src/__tests__/architecture-no-hardcoded-data.test.ts [2m([22m[2m6 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[33m 315[2mms[22m[39m
     [32m‚úì[39m should scan components directory for LLM mock patterns[32m 289[2mms[22m[39m
     [32m‚úì[39m should scan lib/data directory for LLM mock patterns[32m 2[2mms[22m[39m
     [32m‚úì[39m should flag API routes in frontend (critical violation)[32m 8[2mms[22m[39m
     [32m‚úì[39m should generate comprehensive LLM mock data report[32m 2[2mms[22m[39m
[31m     [31m√ó[31m ENFORCEMENT: should have zero critical/high LLM mock data violations[39m[32m 11[2mms[22m[39m
[31m     [31m√ó[31m ENFORCEMENT: should have zero LLM mock data violations (strict mode)[39m[32m 1[2mms[22m[39m
 [31m‚ùØ[39m src/__tests__/lib/charts-comprehensive.test.ts [2m([22m[2m103 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[32m 38[2mms[22m[39m
     [32m‚úì[39m should interpolate at t=0[32m 2[2mms[22m[39m
     [32m‚úì[39m should interpolate at t=1[32m 0[2mms[22m[39m
     [32m‚úì[39m should interpolate at t=0.5[32m 0[2mms[22m[39m
     [32m‚úì[39m should clamp t < 0[32m 0[2mms[22m[39m
     [32m‚úì[39m should clamp t > 1[32m 0[2mms[22m[39m
     [32m‚úì[39m should handle multi-color scales[32m 0[2mms[22m[39m
     [32m‚úì[39m should return primary color when min === max for getValueColor[32m 0[2mms[22m[39m
     [32m‚úì[39m should apply reliability gradient[32m 0[2mms[22m[39m
     [32m‚úì[39m should invert gradient when invert=true[32m 1[2mms[22m[39m
     [32m‚úì[39m should handle different color modes[32m 0[2mms[22m[39m
     [32m‚úì[39m should format null as dash[32m 0[2mms[22m[39m
     [32m‚úì[39m should format undefined as dash[32m 0[2mms[22m[39m
     [32m‚úì[39m should format NaN as dash[32m 0[2mms[22m[39m
     [32m‚úì[39m should use scientific notation for very small values[32m 0[2mms[22m[39m
     [32m‚úì[39m should format large numbers with M suffix[32m 0[2mms[22m[39m
     [32m‚úì[39m should format thousands with k suffix[32m 0[2mms[22m[39m
     [32m‚úì[39m should not compact when disabled[32m 0[2mms[22m[39m
     [32m‚úì[39m should add unit suffix[32m 0[2mms[22m[39m
     [32m‚úì[39m should format 0 as 0.00[32m 0[2mms[22m[39m
[31m     [31m√ó[31m should handle Infinity[39m[32m 8[2mms[22m[39m
     [32m‚úì[39m should format percent 0.5 as 50%[32m 0[2mms[22m[39m
     [32m‚úì[39m should format percent 1 as 100%[32m 0[2mms[22m[39m
     [32m‚úì[39m should respect precision for percent[32m 0[2mms[22m[39m
     [32m‚úì[39m should format axis tick compactly[32m 0[2mms[22m[39m
     [32m‚úì[39m should format axis tick with scientific notation[32m 0[2mms[22m[39m
     [32m‚úì[39m should normalize values to 0-1 range[32m 0[2mms[22m[39m
     [32m‚úì[39m should handle negative values[32m 0[2mms[22m[39m
     [32m‚úì[39m should handle single value[32m 0[2mms[22m[39m
     [32m‚úì[39m should handle identical values[32m 0[2mms[22m[39m
     [32m‚úì[39m should handle large ranges[32m 0[2mms[22m[39m
     [32m‚úì[39m should normalize log scale with positive values[32m 0[2mms[22m[39m
     [32m‚úì[39m should handle non-positive values in log scale[32m 1[2mms[22m[39m
     [32m‚úì[39m should return zeros for no positive values[32m 0[2mms[22m[39m
     [32m‚úì[39m should handle decimal normalization[32m 0[2mms[22m[39m
     [32m‚úì[39m should preserve order in normalization[32m 0[2mms[22m[39m
     [32m‚úì[39m should apply padding to domain[32m 0[2mms[22m[39m
     [32m‚úì[39m should handle zero padding[32m 0[2mms[22m[39m
     [32m‚úì[39m should not go below 0 by default[32m 0[2mms[22m[39m
     [32m‚úì[39m should handle single value[32m 0[2mms[22m[39m
     [32m‚úì[39m should generate nice ticks[32m 0[2mms[22m[39m
     [32m‚úì[39m should generate ticks in ascending order[32m 0[2mms[22m[39m
     [32m‚úì[39m should handle negative ranges[32m 0[2mms[22m[39m
     [32m‚úì[39m should handle decimal ranges[32m 0[2mms[22m[39m
     [32m‚úì[39m should handle very large ranges[32m 0[2mms[22m[39m
     [32m‚úì[39m should handle small ranges[32m 0[2mms[22m[39m
     [32m‚úì[39m should format simple data[32m 1[2mms[22m[39m
     [32m‚úì[39m should capitalize labels[32m 0[2mms[22m[39m
     [32m‚úì[39m should replace underscores with spaces[32m 0[2mms[22m[39m
     [32m‚úì[39m should format numeric values as strings[32m 0[2mms[22m[39m
     [32m‚úì[39m should preserve string values[32m 0[2mms[22m[39m
     [32m‚úì[39m should handle custom format options[32m 0[2mms[22m[39m
     [32m‚úì[39m should handle empty data[32m 0[2mms[22m[39m
     [32m‚úì[39m should handle mixed data types[32m 0[2mms[22m[39m
     [32m‚úì[39m should interpolate jet colormap[32m 1[2mms[22m[39m
     [32m‚úì[39m should interpolate thermal colormap[32m 0[2mms[22m[39m
     [32m‚úì[39m should interpolate viridis colormap[32m 0[2mms[22m[39m
     [32m‚úì[39m should interpolate plasma colormap[32m 0[2mms[22m[39m
     [32m‚úì[39m should interpolate coolwarm colormap[32m 0[2mms[22m[39m
     [32m‚úì[39m should clamp values below range[32m 0[2mms[22m[39m
     [32m‚úì[39m should clamp values above range[32m 0[2mms[22m[39m
     [32m‚úì[39m should return hex color[32m 0[2mms[22m[39m
     [32m‚úì[39m should return RGB string[32m 0[2mms[22m[39m
     [32m‚úì[39m should work with all colormaps for hex[32m 0[2mms[22m[39m
     [32m‚úì[39m should work with all colormaps for RGB[32m 1[2mms[22m[39m
     [32m‚úì[39m should handle edge values[32m 1[2mms[22m[39m
     [32m‚úì[39m should handle decimal values[32m 0[2mms[22m[39m
     [32m‚úì[39m should return Three.js compatible colors[32m 0[2mms[22m[39m
     [32m‚úì[39m should return color stops array[32m 0[2mms[22m[39m
     [32m‚úì[39m should have offsets from 0 to 1[32m 0[2mms[22m[39m
     [32m‚úì[39m should have ascending offsets[32m 0[2mms[22m[39m
     [32m‚úì[39m should use custom number of stops[32m 0[2mms[22m[39m
     [32m‚úì[39m should return discrete colors[32m 0[2mms[22m[39m
     [32m‚úì[39m should span colormap range[32m 0[2mms[22m[39m
     [32m‚úì[39m should list available colormaps[32m 1[2mms[22m[39m
     [32m‚úì[39m should describe colormaps[32m 0[2mms[22m[39m
     [32m‚úì[39m should create CSS gradient[32m 0[2mms[22m[39m
     [32m‚úì[39m should support gradient directions[32m 0[2mms[22m[39m
     [32m‚úì[39m should include percentage offsets in gradient[32m 0[2mms[22m[39m
     [32m‚úì[39m should batch process Three.js colors[32m 0[2mms[22m[39m
     [32m‚úì[39m should return colors for lightest category[32m 0[2mms[22m[39m
     [32m‚úì[39m should return default colors for undefined[32m 0[2mms[22m[39m
     [32m‚úì[39m should return default colors for invalid category[32m 0[2mms[22m[39m
     [32m‚úì[39m should format category labels[32m 0[2mms[22m[39m
     [32m‚úì[39m should return Unknown for undefined labels[32m 0[2mms[22m[39m
     [32m‚úì[39m should validate complete Pareto design[32m 0[2mms[22m[39m
     [32m‚úì[39m should reject incomplete designs[32m 0[2mms[22m[39m
     [32m‚úì[39m should filter highlighted designs[32m 0[2mms[22m[39m
     [32m‚úì[39m should find recommended design[32m 1[2mms[22m[39m
     [32m‚úì[39m should return undefined if no recommended[32m 0[2mms[22m[39m
     [32m‚úì[39m should have X axis options[32m 0[2mms[22m[39m
     [32m‚úì[39m should have Y axis options[32m 0[2mms[22m[39m
     [32m‚úì[39m should have legend items[32m 0[2mms[22m[39m
     [32m‚úì[39m should have category color definitions[32m 0[2mms[22m[39m
     [32m‚úì[39m should have valid hex colors in config[32m 0[2mms[22m[39m
     [32m‚úì[39m should handle empty design array[32m 0[2mms[22m[39m
     [32m‚úì[39m should have primary colors[32m 0[2mms[22m[39m
     [32m‚úì[39m should have sequential scales[32m 0[2mms[22m[39m
     [32m‚úì[39m should have diverging scales[32m 0[2mms[22m[39m
     [32m‚úì[39m should have category colors[32m 0[2mms[22m[39m
     [32m‚úì[39m should have status colors[32m 0[2mms[22m[39m
     [32m‚úì[39m should have default chart config[32m 0[2mms[22m[39m
     [32m‚úì[39m should have animation config with increasing durations[32m 0[2mms[22m[39m
     [32m‚úì[39m should export ChartUtils object[32m 0[2mms[22m[39m
 [31m‚ùØ[39m src/__tests__/components/ui/Accordion.test.tsx [2m([22m[2m27 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 692[2mms[22m[39m
       [32m‚úì[39m should render accordion items[32m 44[2mms[22m[39m
       [32m‚úì[39m should expand item when trigger is clicked[32m 15[2mms[22m[39m
       [32m‚úì[39m should collapse item when trigger is clicked again[32m 9[2mms[22m[39m
       [32m‚úì[39m should only allow one item open at a time[32m 11[2mms[22m[39m
       [32m‚úì[39m should allow multiple items to be open[32m 10[2mms[22m[39m
       [32m‚úì[39m should keep items open independently[32m 11[2mms[22m[39m
       [32m‚úì[39m should open items in defaultValue on mount[32m 5[2mms[22m[39m
       [32m‚úì[39m should handle multiple default values in multiple mode[32m 5[2mms[22m[39m
       [32m‚úì[39m should render trigger as button[32m 295[2mms[22m[39m
       [32m‚úì[39m should display chevron icon on trigger[32m 6[2mms[22m[39m
       [32m‚úì[39m should rotate chevron when expanded[32m 26[2mms[22m[39m
       [32m‚úì[39m should not display content when collapsed[32m 5[2mms[22m[39m
       [32m‚úì[39m should display content when expanded[32m 14[2mms[22m[39m
       [32m‚úì[39m should support complex content in accordion[32m 12[2mms[22m[39m
       [32m‚úì[39m should render borders between items[32m 12[2mms[22m[39m
       [32m‚úì[39m should toggle on Enter key[32m 62[2mms[22m[39m
       [32m‚úì[39m should be keyboard accessible[32m 25[2mms[22m[39m
       [32m‚úì[39m should render triggers as buttons[32m 19[2mms[22m[39m
       [32m‚úì[39m should be focusable with Tab key[32m 3[2mms[22m[39m
       [32m‚úì[39m should have semantic structure[32m 4[2mms[22m[39m
[31m       [31m√ó[31m should have proper button semantics[39m[32m 26[2mms[22m[39m
       [32m‚úì[39m should render multiple accordion items[32m 6[2mms[22m[39m
       [32m‚úì[39m should handle toggling between multiple items[32m 44[2mms[22m[39m
       [32m‚úì[39m should accept custom className on Accordion[32m 6[2mms[22m[39m
       [32m‚úì[39m should accept custom className on AccordionItem[32m 4[2mms[22m[39m
       [32m‚úì[39m should accept custom className on AccordionTrigger[32m 6[2mms[22m[39m
       [32m‚úì[39m should accept custom className on AccordionContent[32m 4[2mms[22m[39m
 [31m‚ùØ[39m src/__tests__/components/compare/ComparisonCard.test.tsx [2m([22m[2m21 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[33m 1443[2mms[22m[39m
       [32m‚úì[39m should render design ID in header[32m 154[2mms[22m[39m
       [32m‚úì[39m should render candidate badge with correct index[32m 66[2mms[22m[39m
       [32m‚úì[39m should render all metrics[32m 44[2mms[22m[39m
[31m       [31m√ó[31m should render metric values with units[39m[32m 57[2mms[22m[39m
       [32m‚úì[39m should apply correct color to badge[32m 289[2mms[22m[39m
       [32m‚úì[39m should render design indicator with correct color[32m 76[2mms[22m[39m
       [32m‚úì[39m should call onViewDesign when "View 3D" is clicked[32m 175[2mms[22m[39m
       [32m‚úì[39m should call onExport when "Export" is clicked[32m 130[2mms[22m[39m
       [32m‚úì[39m should render difference indicators for each metric[32m 40[2mms[22m[39m
       [32m‚úì[39m should show best performance indicator for lowest weight[32m 13[2mms[22m[39m
       [32m‚úì[39m should have accessible button labels[32m 85[2mms[22m[39m
       [32m‚úì[39m should have proper ARIA label for design indicator[32m 15[2mms[22m[39m
       [32m‚úì[39m should use semantic HTML for metrics (dl/dt/dd)[32m 35[2mms[22m[39m
       [32m‚úì[39m should apply hover effect classes[32m 32[2mms[22m[39m
       [32m‚úì[39m should have proper border and shadow[32m 51[2mms[22m[39m
       [32m‚úì[39m should render action buttons in a flex container[32m 32[2mms[22m[39m
       [32m‚úì[39m should handle empty metrics array[32m 19[2mms[22m[39m
       [32m‚úì[39m should handle different candidate indices[32m 54[2mms[22m[39m
       [32m‚úì[39m should handle different design IDs[32m 33[2mms[22m[39m
       [32m‚úì[39m should format large numbers with locale string[32m 26[2mms[22m[39m
[31m       [31m√ó[31m should handle currency formatting[39m[32m 13[2mms[22m[39m
 [31m‚ùØ[39m src/__tests__/components/ui/ThemeToggle.test.tsx [2m([22m[2m34 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 3580[2mms[22m[39m
       [33m[2m‚úì[22m[39m should render toggle button [33m 360[2mms[22m[39m
       [32m‚úì[39m should display theme icon[32m 11[2mms[22m[39m
       [32m‚úì[39m should have proper aria attributes[32m 39[2mms[22m[39m
       [32m‚úì[39m should not display menu initially[32m 5[2mms[22m[39m
       [32m‚úì[39m test[32m 103[2mms[22m[39m
       [32m‚úì[39m test[32m 36[2mms[22m[39m
       [32m‚úì[39m test[32m 83[2mms[22m[39m
       [32m‚úì[39m should have aria-expanded attribute[32m 46[2mms[22m[39m
       [32m‚úì[39m test[32m 39[2mms[22m[39m
       [32m‚úì[39m test[32m 79[2mms[22m[39m
       [32m‚úì[39m test[32m 33[2mms[22m[39m
       [32m‚úì[39m should display theme icons[32m 62[2mms[22m[39m
       [32m‚úì[39m test[32m 35[2mms[22m[39m
       [32m‚úì[39m should display checkmark for active option[32m 112[2mms[22m[39m
       [32m‚úì[39m test[32m 152[2mms[22m[39m
       [32m‚úì[39m test[32m 123[2mms[22m[39m
       [32m‚úì[39m test[32m 60[2mms[22m[39m
       [32m‚úì[39m should close menu when clicking outside[32m 114[2mms[22m[39m
       [32m‚úì[39m test[32m 123[2mms[22m[39m
       [32m‚úì[39m test[32m 109[2mms[22m[39m
       [32m‚úì[39m test[32m 121[2mms[22m[39m
[31m       [31m√ó[31m test[39m[33m 1067[2mms[22m[39m
       [32m‚úì[39m should have aria-haspopup attribute[32m 24[2mms[22m[39m
       [32m‚úì[39m should accept custom className[32m 5[2mms[22m[39m
       [32m‚úì[39m should apply variant styling for button[32m 4[2mms[22m[39m
       [32m‚úì[39m should have icon size styling[32m 3[2mms[22m[39m
       [32m‚úì[39m should have menu positioning classes[32m 89[2mms[22m[39m
       [32m‚úì[39m should render sun icon for light theme[32m 60[2mms[22m[39m
       [32m‚úì[39m should render moon icon for dark theme[32m 60[2mms[22m[39m
       [32m‚úì[39m should render monitor icon for system theme[32m 77[2mms[22m[39m
       [32m‚úì[39m should have smooth transitions[32m 48[2mms[22m[39m
       [32m‚úì[39m should have proper z-index for dropdown[32m 81[2mms[22m[39m
       [32m‚úì[39m should have light theme styling in menu[32m 92[2mms[22m[39m
       [32m‚úì[39m should have hover effects on options[32m 120[2mms[22m[39m
 [31m‚ùØ[39m src/__tests__/components/CompareScreen.test.tsx [2m([22m[2m23 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 3686[2mms[22m[39m
       [32m‚úì[39m should render loading state initially[32m 73[2mms[22m[39m
       [32m‚úì[39m should render comparison data after loading[32m 203[2mms[22m[39m
       [32m‚úì[39m should display the correct number of designs[32m 116[2mms[22m[39m
       [32m‚úì[39m should render radar chart[32m 107[2mms[22m[39m
       [32m‚úì[39m should render metrics table[32m 111[2mms[22m[39m
       [32m‚úì[39m should render design cards[32m 153[2mms[22m[39m
       [32m‚úì[39m should use selected designs from store[32m 86[2mms[22m[39m
       [32m‚úì[39m should fall back to pareto front if no designs selected[32m 59[2mms[22m[39m
       [33m[2m‚úì[22m[39m should highlight best performance in metrics table [33m 418[2mms[22m[39m
       [32m‚úì[39m should display formatted metric values[32m 83[2mms[22m[39m
       [32m‚úì[39m should calculate correct best values[32m 132[2mms[22m[39m
       [32m‚úì[39m should navigate to viewer when "View 3D" is clicked[32m 176[2mms[22m[39m
       [32m‚úì[39m should navigate to export when "Export" is clicked[32m 148[2mms[22m[39m
       [32m‚úì[39m should handle API errors gracefully[32m 6[2mms[22m[39m
       [32m‚úì[39m should display no data message when comparison is null[32m 22[2mms[22m[39m
       [32m‚úì[39m should render metrics for each design[32m 68[2mms[22m[39m
       [32m‚úì[39m should display candidate badges[32m 68[2mms[22m[39m
       [32m‚úì[39m should format P(Failure) in scientific notation[32m 72[2mms[22m[39m
       [32m‚úì[39m should have proper ARIA labels for design indicators[32m 114[2mms[22m[39m
       [32m‚úì[39m should have accessible table structure[32m 165[2mms[22m[39m
       [32m‚úì[39m should have descriptive button labels[32m 88[2mms[22m[39m
       [32m‚úì[39m should render difference indicators for metrics[32m 81[2mms[22m[39m
[31m       [31m√ó[31m should use color coding for performance[39m[33m 1133[2mms[22m[39m
[90mstdout[2m | src/__tests__/components/validation-comprehensive.test.tsx[2m > [22m[2mSurrogateConfidencePanel[2m > [22m[2m53: handles button click
[22m[39mRequesting FEA validation...

 [31m‚ùØ[39m src/__tests__/components/ParetoScreen.test.tsx [2m([22m[2m40 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[33m 5094[2mms[22m[39m
       [32m‚úì[39m should render the page header with title and description[32m 155[2mms[22m[39m
       [32m‚úì[39m should render axis controls with proper labels[32m 91[2mms[22m[39m
       [32m‚úì[39m should render legend with all categories[32m 284[2mms[22m[39m
       [33m[2m‚úì[22m[39m should render featured design cards for highlighted designs [33m 612[2mms[22m[39m
       [32m‚úì[39m should display loading state when fetching data[32m 59[2mms[22m[39m
       [32m‚úì[39m should load Pareto data on mount when paretoFront is empty[32m 47[2mms[22m[39m
       [32m‚úì[39m should use demo job ID when optimizationJob is null[32m 95[2mms[22m[39m
       [32m‚úì[39m should not fetch data if paretoFront already has data[32m 22[2mms[22m[39m
       [32m‚úì[39m should display error state when data loading fails[32m 103[2mms[22m[39m
       [32m‚úì[39m should change X-axis metric when selection changes[32m 130[2mms[22m[39m
       [32m‚úì[39m should change Y-axis metric when selection changes[32m 151[2mms[22m[39m
[31m       [31m√ó[31m should render all X-axis options[39m[32m 98[2mms[22m[39m
[31m       [31m√ó[31m should render all Y-axis options[39m[32m 130[2mms[22m[39m
       [32m‚úì[39m should toggle design selection when design card is clicked[32m 178[2mms[22m[39m
       [32m‚úì[39m should toggle design selection when Enter key is pressed on design card[32m 234[2mms[22m[39m
       [32m‚úì[39m should toggle design selection when Space key is pressed on design card[32m 202[2mms[22m[39m
       [32m‚úì[39m should show selection count when designs are selected[32m 77[2mms[22m[39m
       [32m‚úì[39m should display checkmark on selected design cards[32m 166[2mms[22m[39m
       [32m‚úì[39m should pass selected designs to chart component[32m 22[2mms[22m[39m
       [32m‚úì[39m should show info message when less than 2 designs are selected[32m 65[2mms[22m[39m
       [32m‚úì[39m should enable compare button when 2 or more designs are selected[32m 182[2mms[22m[39m
       [32m‚úì[39m should disable compare button when less than 2 designs are selected[32m 151[2mms[22m[39m
       [32m‚úì[39m should navigate to compare screen when compare button is clicked[32m 229[2mms[22m[39m
       [32m‚úì[39m should not show info message when 2 or more designs are selected[32m 70[2mms[22m[39m
       [32m‚úì[39m should display correct plural form in info message[32m 94[2mms[22m[39m
       [32m‚úì[39m should navigate to viewer screen when "View in 3D" is clicked[32m 259[2mms[22m[39m
       [33m[2m‚úì[22m[39m should not trigger design selection when "View in 3D" is clicked [33m 342[2mms[22m[39m
       [32m‚úì[39m should pass correct design data to ParetoChart[32m 26[2mms[22m[39m
       [32m‚úì[39m should handle chart dot click for design selection[32m 44[2mms[22m[39m
       [32m‚úì[39m should pass recommended design ID to chart[32m 18[2mms[22m[39m
       [32m‚úì[39m should not add more than 3 designs when selection limit is reached[32m 70[2mms[22m[39m
       [32m‚úì[39m should allow deselection when selection limit is reached[32m 93[2mms[22m[39m
       [32m‚úì[39m should have proper ARIA labels for axis selects[32m 64[2mms[22m[39m
       [32m‚úì[39m should have role="status" and aria-live="polite" on loading indicator[32m 30[2mms[22m[39m
       [32m‚úì[39m should have role="alert" on error message[32m 41[2mms[22m[39m
       [32m‚úì[39m should have proper aria-label for compare button[32m 30[2mms[22m[39m
       [32m‚úì[39m should have aria-pressed attribute on design cards[32m 150[2mms[22m[39m
       [32m‚úì[39m should mark decorative icons as aria-hidden[32m 219[2mms[22m[39m
       [32m‚úì[39m should display design metrics correctly[32m 29[2mms[22m[39m
       [32m‚úì[39m should show category badge with correct styling[32m 25[2mms[22m[39m
 [32m‚úì[39m src/__tests__/components/ViewerScreen.test.tsx [2m([22m[2m29 tests[22m[2m)[22m[33m 5012[2mms[22m[39m
       [33m[2m‚úì[22m[39m should render the main page header [33m 563[2mms[22m[39m
       [33m[2m‚úì[22m[39m should render CAD viewer after data loads [33m 438[2mms[22m[39m
       [33m[2m‚úì[22m[39m should change design when clicking a different design button [33m 390[2mms[22m[39m
       [33m[2m‚úì[22m[39m should use pareto front designs when available [33m 302[2mms[22m[39m
       [33m[2m‚úì[22m[39m should toggle stress analysis mode [33m 398[2mms[22m[39m
       [33m[2m‚úì[22m[39m should toggle wireframe mode [33m 419[2mms[22m[39m
 [32m‚úì[39m src/__tests__/components/ui-comprehensive.test.tsx [2m([22m[2m106 tests[22m[2m)[22m[33m 4893[2mms[22m[39m
       [33m[2m‚úì[22m[39m should render button with default variant and size [33m 480[2mms[22m[39m
       [33m[2m‚úì[22m[39m should accept user input [33m 323[2mms[22m[39m
 [32m‚úì[39m src/__tests__/components/validation-comprehensive.test.tsx [2m([22m[2m90 tests[22m[2m)[22m[33m 4395[2mms[22m[39m
     [33m[2m‚úì[22m[39m 53: handles button click [33m 453[2mms[22m[39m
     [33m[2m‚úì[22m[39m 84: handles multiple switches [33m 393[2mms[22m[39m
 [32m‚úì[39m src/__tests__/lib/cad-comprehensive.test.ts [2m([22m[2m93 tests[22m[2m)[22m[33m 2974[2mms[22m[39m
       [33m[2m‚úì[22m[39m should not generate NaN or Infinity in positions [33m 540[2mms[22m[39m
       [33m[2m‚úì[22m[39m should generate valid triangle indices [33m 1501[2mms[22m[39m
[90mstdout[2m | src/__tests__/components/validation/SurrogateConfidencePanel.test.tsx[2m > [22m[2mSurrogateConfidencePanel[2m > [22m[2mButton Interactions[2m > [22m[2mshould handle button click
[22m[39mRequesting FEA validation...

 [32m‚úì[39m src/__tests__/components/ExportDialog.test.tsx [2m([22m[2m8 tests[22m[2m)[22m[33m 1808[2mms[22m[39m
       [33m[2m‚úì[22m[39m should render dialog when isOpen is true [33m 463[2mms[22m[39m
       [33m[2m‚úì[22m[39m should handle format switching [33m 447[2mms[22m[39m
 [31m‚ùØ[39m src/__tests__/components/RequirementsChat.test.tsx [2m([22m[2m15 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[33m 8690[2mms[22m[39m
     [32m‚úì[39m renders with initial assistant message[32m 101[2mms[22m[39m
     [32m‚úì[39m displays empty state for extracted requirements[32m 27[2mms[22m[39m
     [33m[2m‚úì[22m[39m sends a message when user types and submits [33m 729[2mms[22m[39m
     [32m‚úì[39m sends message on Enter key press[32m 157[2mms[22m[39m
     [33m[2m‚úì[22m[39m displays suggestions when provided [33m 402[2mms[22m[39m
[31m     [31m√ó[31m handles suggestion click[39m[33m 3406[2mms[22m[39m
     [33m[2m‚úì[22m[39m allows editing extracted requirements [33m 549[2mms[22m[39m
[31m     [31m√ó[31m cancels editing when cancel button clicked[39m[33m 1686[2mms[22m[39m
     [32m‚úì[39m disables confirm button when less than 5 requirements[32m 292[2mms[22m[39m
     [32m‚úì[39m enables confirm button when 5 or more requirements present[32m 238[2mms[22m[39m
     [32m‚úì[39m calls onComplete with requirements when confirmed[32m 219[2mms[22m[39m
     [32m‚úì[39m displays error message when API call fails[32m 290[2mms[22m[39m
     [32m‚úì[39m disables input and send button while loading[32m 244[2mms[22m[39m
     [33m[2m‚úì[22m[39m shows confidence badges correctly [33m 307[2mms[22m[39m
     [32m‚úì[39m has proper accessibility attributes for chat messages[32m 37[2mms[22m[39m
 [32m‚úì[39m src/__tests__/accessibility.test.tsx [2m([22m[2m32 tests[22m[2m)[22m[33m 3792[2mms[22m[39m
       [33m[2m‚úì[22m[39m should have no accessibility violations [33m 494[2mms[22m[39m
       [33m[2m‚úì[22m[39m should render all variants without accessibility violations [33m 411[2mms[22m[39m
       [33m[2m‚úì[22m[39m should create and remove announcement elements [33m 1106[2mms[22m[39m
       [33m[2m‚úì[22m[39m should maintain focus order in complex components [33m 334[2mms[22m[39m
 [32m‚úì[39m src/__tests__/components/validation/SurrogateConfidencePanel.test.tsx [2m([22m[2m59 tests[22m[2m)[22m[33m 2815[2mms[22m[39m
       [33m[2m‚úì[22m[39m should have readable text content [33m 534[2mms[22m[39m
 [32m‚úì[39m src/__tests__/components/validation/TestPlanPanel.test.tsx [2m([22m[2m50 tests[22m[2m)[22m[33m 1400[2mms[22m[39m
       [33m[2m‚úì[22m[39m should have accessible heading structure [33m 351[2mms[22m[39m
 [32m‚úì[39m src/__tests__/components/export/ExportConfiguration.test.tsx [2m([22m[2m16 tests[22m[2m)[22m[33m 1373[2mms[22m[39m
     [33m[2m‚úì[22m[39m should display current comments checkbox state [33m 409[2mms[22m[39m
 [32m‚úì[39m src/__tests__/components/AnalysisScreen.test.tsx [2m([22m[2m28 tests[22m[2m)[22m[33m 3843[2mms[22m[39m
       [33m[2m‚úì[22m[39m should render all analysis tabs [33m 1155[2mms[22m[39m
 [32m‚úì[39m src/__tests__/components/ComplianceScreen.test.tsx [2m([22m[2m27 tests[22m[2m)[22m[33m 4387[2mms[22m[39m
       [33m[2m‚úì[22m[39m should display pass badge for compliant design [33m 409[2mms[22m[39m
       [33m[2m‚úì[22m[39m should render all view mode tabs [33m 304[2mms[22m[39m
       [33m[2m‚úì[22m[39m should switch to compliance matrix view [33m 324[2mms[22m[39m
       [33m[2m‚úì[22m[39m should switch to test requirements view [33m 330[2mms[22m[39m
       [33m[2m‚úì[22m[39m should render test requirements table [33m 345[2mms[22m[39m
       [33m[2m‚úì[22m[39m should display test plan summary statistics [33m 331[2mms[22m[39m
 [32m‚úì[39m src/__tests__/components/validation/VerificationChecklist.test.tsx [2m([22m[2m32 tests[22m[2m)[22m[33m 1173[2mms[22m[39m
       [33m[2m‚úì[22m[39m should have proper heading hierarchy [33m 437[2mms[22m[39m
 [32m‚úì[39m src/__tests__/components/ui/Modal.test.tsx [2m([22m[2m37 tests[22m[2m)[22m[33m 957[2mms[22m[39m
       [33m[2m‚úì[22m[39m should render close button [33m 305[2mms[22m[39m
 [32m‚úì[39m src/__tests__/components/RequirementsScreen.test.tsx [2m([22m[2m9 tests[22m[2m)[22m[33m 957[2mms[22m[39m
     [33m[2m‚úì[22m[39m renders the component with initial state [33m 516[2mms[22m[39m
 [32m‚úì[39m src/__tests__/components/export/ExportProgressIndicator.test.tsx [2m([22m[2m13 tests[22m[2m)[22m[33m 736[2mms[22m[39m
     [33m[2m‚úì[22m[39m should render progress bar with correct ARIA attributes [33m 315[2mms[22m[39m
 [32m‚úì[39m src/__tests__/components/analysis/ReliabilityPanel.test.tsx [2m([22m[2m83 tests[22m[2m)[22m[33m 11742[2mms[22m[39m
       [33m[2m‚úì[22m[39m test [33m 322[2mms[22m[39m
       [33m[2m‚úì[22m[39m test [33m 540[2mms[22m[39m
       [33m[2m‚úì[22m[39m FAIL: should show equations when button is clicked [33m 314[2mms[22m[39m
       [33m[2m‚úì[22m[39m FAIL: should toggle equations visibility [33m 441[2mms[22m[39m
 [32m‚úì[39m src/__tests__/components/ComplianceAlert.test.tsx [2m([22m[2m14 tests[22m[2m)[22m[33m 500[2mms[22m[39m
 [32m‚úì[39m src/__tests__/components/ui/Tooltip.test.tsx [2m([22m[2m25 tests[22m[2m)[22m[33m 647[2mms[22m[39m
 [32m‚úì[39m src/__tests__/lib/theme-comprehensive.test.ts [2m([22m[2m89 tests[22m[2m)[22m[32m 106[2mms[22m[39m
 [32m‚úì[39m src/__tests__/components/analysis/FailureAnalysisPanel.test.tsx [2m([22m[2m53 tests[22m[2m)[22m[33m 8654[2mms[22m[39m
       [33m[2m‚úì[22m[39m should render without crashing [33m 336[2mms[22m[39m
       [33m[2m‚úì[22m[39m should have equations toggle button [33m 636[2mms[22m[39m
       [33m[2m‚úì[22m[39m should change failure mode when selection changes [33m 359[2mms[22m[39m
       [33m[2m‚úì[22m[39m should allow selecting different load cases [33m 340[2mms[22m[39m
       [33m[2m‚úì[22m[39m should show loading indicator when changing load case [33m 484[2mms[22m[39m
       [33m[2m‚úì[22m[39m should show equations when toggled [33m 570[2mms[22m[39m
       [33m[2m‚úì[22m[39m should toggle equations visibility correctly [33m 856[2mms[22m[39m
       [33m[2m‚úì[22m[39m should handle rapidly changing selections [33m 581[2mms[22m[39m
 [32m‚úì[39m src/__tests__/components/ComplianceStatCard.test.tsx [2m([22m[2m10 tests[22m[2m)[22m[33m 376[2mms[22m[39m
 [32m‚úì[39m src/__tests__/lib/theme-provider.test.ts [2m([22m[2m81 tests[22m[2m)[22m[32m 152[2mms[22m[39m
 [32m‚úì[39m src/__tests__/components/StandardCard.test.tsx [2m([22m[2m15 tests[22m[2m)[22m[33m 412[2mms[22m[39m
 [32m‚úì[39m src/__tests__/components/validation/ValidationStatCard.test.tsx [2m([22m[2m31 tests[22m[2m)[22m[32m 228[2mms[22m[39m
 [32m‚úì[39m src/__tests__/components/compare/DifferenceIndicator.test.tsx [2m([22m[2m6 tests[22m[2m)[22m[32m 74[2mms[22m[39m
 [32m‚úì[39m src/__tests__/lib/search.test.ts [2m([22m[2m76 tests[22m[2m)[22m[32m 81[2mms[22m[39m
 [32m‚úì[39m src/__tests__/lib/utils.test.ts [2m([22m[2m85 tests[22m[2m)[22m[32m 151[2mms[22m[39m
 [32m‚úì[39m src/__tests__/lib/pareto-config.test.ts [2m([22m[2m99 tests[22m[2m)[22m[32m 46[2mms[22m[39m
 [32m‚úì[39m src/__tests__/lib/utils/comparison.test.ts [2m([22m[2m24 tests[22m[2m)[22m[32m 33[2mms[22m[39m
 [32m‚úì[39m src/__tests__/lib/theme.test.ts [2m([22m[2m47 tests[22m[2m)[22m[32m 38[2mms[22m[39m
 [32m‚úì[39m src/__tests__/lib/tank-geometry.test.ts [2m([22m[2m75 tests[22m[2m)[22m[32m 30[2mms[22m[39m
 [32m‚úì[39m src/__tests__/lib/export/data-export.test.ts [2m([22m[2m32 tests[22m[2m)[22m[32m 27[2mms[22m[39m
 [2m[90m‚Üì[39m[22m src/__tests__/lib/screenshot-utils.test.ts [2m([22m[2m1 test[22m[2m | [22m[33m1 skipped[39m[2m)[22m
 [2m[90m‚Üì[39m[22m src/__tests__/components/analysis/ThermalAnalysisPanel.test.tsx [2m([22m[2m1 test[22m[2m | [22m[33m1 skipped[39m[2m)[22m
 [32m‚úì[39m src/__tests__/lib/export/screenshot-utils.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 16[2mms[22m[39m
 [32m‚úì[39m src/__tests__/components/viewer/ExportDialog.test.tsx [2m([22m[2m70 tests[22m[2m)[22m[33m 15598[2mms[22m[39m
       [33m[2m‚úì[22m[39m should update format state when clicking PNG button [33m 714[2mms[22m[39m
       [33m[2m‚úì[22m[39m should show quality slider for JPEG format [33m 582[2mms[22m[39m
       [33m[2m‚úì[22m[39m should update quality percentage when slider changes [33m 358[2mms[22m[39m
       [33m[2m‚úì[22m[39m should have correct min/max aria values [33m 360[2mms[22m[39m
       [33m[2m‚úì[22m[39m should have three resolution options [33m 355[2mms[22m[39m
       [33m[2m‚úì[22m[39m should update scale when clicking 4x button [33m 367[2mms[22m[39m
       [33m[2m‚úì[22m[39m should allow custom filename input [33m 476[2mms[22m[39m
       [33m[2m‚úì[22m[39m should clear filename when user clears input [33m 337[2mms[22m[39m
       [33m[2m‚úì[22m[39m should call onExport with JPEG options [33m 462[2mms[22m[39m
       [33m[2m‚úì[22m[39m should include filename in export options when provided [33m 741[2mms[22m[39m
       [33m[2m‚úì[22m[39m should include scale in export options [33m 537[2mms[22m[39m
       [33m[2m‚úì[22m[39m should include metadata flag in export options [33m 402[2mms[22m[39m
       [33m[2m‚úì[22m[39m should call onClose after export [33m 326[2mms[22m[39m
       [33m[2m‚úì[22m[39m should show warning only for 4x scale [33m 458[2mms[22m[39m
       [33m[2m‚úì[22m[39m should handle rapid format changes [33m 529[2mms[22m[39m
       [33m[2m‚úì[22m[39m should handle very long custom filenames [33m 3457[2mms[22m[39m
 [32m‚úì[39m src/__tests__/accessibility-ci.test.tsx [2m([22m[2m28 tests[22m[2m)[22m[33m 573[2mms[22m[39m
 [31m‚ùØ[39m src/__tests__/components/analysis/CostAnalysisPanel.test.tsx [2m([22m[2m63 tests[22m[2m | [22m[31m8 failed[39m[2m)[22m[33m 16868[2mms[22m[39m
       [33m[2m‚úì[22m[39m FAIL: should render cost analysis panel with header [33m 384[2mms[22m[39m
       [32m‚úì[39m FAIL: should render production volume selector[32m 88[2mms[22m[39m
       [32m‚úì[39m FAIL: should render all production volume options[32m 89[2mms[22m[39m
       [33m[2m‚úì[22m[39m FAIL: should render Show/Hide Equations button [33m 541[2mms[22m[39m
       [32m‚úì[39m FAIL: should render key metrics cards[32m 188[2mms[22m[39m
       [32m‚úì[39m FAIL: should render cost breakdown pie chart[32m 132[2mms[22m[39m
       [32m‚úì[39m FAIL: should render production volume sensitivity chart[32m 100[2mms[22m[39m
       [32m‚úì[39m FAIL: should render weight-cost trade-off scatter chart[32m 139[2mms[22m[39m
       [32m‚úì[39m FAIL: should render material comparison table[32m 102[2mms[22m[39m
[31m       [31m√ó[31m FAIL: should render manufacturing process breakdown chart[39m[33m 1120[2mms[22m[39m
[31m       [31m√ó[31m FAIL: should render learning curve chart[39m[33m 1154[2mms[22m[39m
       [32m‚úì[39m FAIL: should display unit cost correctly[32m 137[2mms[22m[39m
       [32m‚úì[39m FAIL: should calculate material cost from breakdown[32m 84[2mms[22m[39m
       [32m‚úì[39m FAIL: should calculate manufacturing cost (Labor + Overhead)[32m 69[2mms[22m[39m
       [32m‚úì[39m FAIL: should calculate material cost percentage correctly[32m 89[2mms[22m[39m
       [32m‚úì[39m FAIL: should calculate manufacturing cost percentage correctly[32m 70[2mms[22m[39m
       [32m‚úì[39m FAIL: should display cost per kg correctly[32m 81[2mms[22m[39m
       [32m‚úì[39m FAIL: should calculate total cost from breakdown[32m 104[2mms[22m[39m
       [32m‚úì[39m FAIL: should render all cost components in breakdown[32m 120[2mms[22m[39m
       [32m‚úì[39m FAIL: should display cost values in breakdown legend[32m 70[2mms[22m[39m
       [32m‚úì[39m FAIL: should display percentages in breakdown legend[32m 70[2mms[22m[39m
       [32m‚úì[39m FAIL: should pass correct data to pie chart[32m 60[2mms[22m[39m
       [32m‚úì[39m FAIL: should use COST_COLORS for pie chart[32m 26[2mms[22m[39m
       [32m‚úì[39m FAIL: should display volume sensitivity data correctly[32m 46[2mms[22m[39m
       [32m‚úì[39m FAIL: should calculate volume reduction percentage[32m 77[2mms[22m[39m
       [32m‚úì[39m FAIL: should show baseline indicator for 5k volume[32m 103[2mms[22m[39m
       [32m‚úì[39m FAIL: should apply correct color to positive sensitivity[32m 101[2mms[22m[39m
       [32m‚úì[39m FAIL: should apply correct color to negative sensitivity[32m 80[2mms[22m[39m
       [32m‚úì[39m FAIL: should display material comparison with relative costs[32m 76[2mms[22m[39m
       [32m‚úì[39m FAIL: should display weight-cost tradeoff with all points[32m 104[2mms[22m[39m
       [32m‚úì[39m FAIL: should format currency with GBP symbol[32m 74[2mms[22m[39m
       [32m‚úì[39m FAIL: should format large costs with locale formatting[32m 71[2mms[22m[39m
       [32m‚úì[39m FAIL: should use correct currency from store[32m 101[2mms[22m[39m
       [32m‚úì[39m FAIL: should format cost per kg with unit label[32m 144[2mms[22m[39m
       [32m‚úì[39m FAIL: should format material cost per kg in table[32m 52[2mms[22m[39m
       [33m[2m‚úì[22m[39m FAIL: should change volume on select change [33m 311[2mms[22m[39m
       [32m‚úì[39m FAIL: should default to 5k production volume[32m 105[2mms[22m[39m
       [33m[2m‚úì[22m[39m FAIL: should fetch new cost data when volume changes [33m 329[2mms[22m[39m
[31m       [31m√ó[31m FAIL: should show loading state during volume change[39m[33m 2304[2mms[22m[39m
       [32m‚úì[39m FAIL: should disable select during loading[32m 108[2mms[22m[39m
       [32m‚úì[39m FAIL: should show equations when button is clicked[32m 195[2mms[22m[39m
       [33m[2m‚úì[22m[39m FAIL: should toggle equations visibility [33m 380[2mms[22m[39m
       [32m‚úì[39m FAIL: should change button text when toggled[32m 200[2mms[22m[39m
       [32m‚úì[39m FAIL: should apply active styling to button when equations are shown[32m 247[2mms[22m[39m
       [32m‚úì[39m FAIL: should handle zero material cost[32m 91[2mms[22m[39m
       [32m‚úì[39m FAIL: should handle very large cost values[32m 75[2mms[22m[39m
       [32m‚úì[39m FAIL: should handle single cost component breakdown[32m 60[2mms[22m[39m
       [32m‚úì[39m FAIL: should handle empty material comparison[32m 65[2mms[22m[39m
       [32m‚úì[39m FAIL: should handle missing volume sensitivity data[32m 120[2mms[22m[39m
       [32m‚úì[39m FAIL: should handle API fetch error gracefully[32m 53[2mms[22m[39m
       [32m‚úì[39m FAIL: should handle failed API response[32m 61[2mms[22m[39m
       [32m‚úì[39m FAIL: should accept designId prop[32m 93[2mms[22m[39m
       [32m‚úì[39m FAIL: should call onCostDataChange when data updates[32m 262[2mms[22m[39m
       [32m‚úì[39m FAIL: should use designId in API fetch call[32m 134[2mms[22m[39m
[31m       [31m√ó[31m FAIL: should display fiber cost percentage[39m[33m 1084[2mms[22m[39m
       [32m‚úì[39m FAIL: should use default 47% if not provided[32m 107[2mms[22m[39m
[31m       [31m√ó[31m FAIL: should calculate manufacturing processes from labor cost[39m[33m 1063[2mms[22m[39m
[31m       [31m√ó[31m FAIL: should distribute labor cost across processes[39m[33m 1071[2mms[22m[39m
[31m       [31m√ó[31m FAIL: should render learning curve chart[39m[33m 1051[2mms[22m[39m
[31m       [31m√ó[31m FAIL: should show cost reduction with volume increase[39m[33m 1052[2mms[22m[39m
       [32m‚úì[39m FAIL: should have proper labels on form controls[32m 53[2mms[22m[39m
       [32m‚úì[39m FAIL: should have semantic heading structure[32m 103[2mms[22m[39m
       [32m‚úì[39m FAIL: should have alt text for charts[32m 37[2mms[22m[39m
 [32m‚úì[39m src/__tests__/components/ExportScreen.test.tsx [2m([22m[2m36 tests[22m[2m)[22m[33m 21451[2mms[22m[39m
       [33m[2m‚úì[22m[39m should switch to document preview tab [33m 460[2mms[22m[39m
       [33m[2m‚úì[22m[39m should display generate export button [33m 951[2mms[22m[39m
       [33m[2m‚úì[22m[39m should disable export button when no items selected [33m 2066[2mms[22m[39m
       [33m[2m‚úì[22m[39m should start export when button clicked [33m 800[2mms[22m[39m
       [33m[2m‚úì[22m[39m should show loading state during export [33m 586[2mms[22m[39m
       [33m[2m‚úì[22m[39m should display progress indicator during generation [33m 670[2mms[22m[39m
       [33m[2m‚úì[22m[39m should update progress percentage [33m 1649[2mms[22m[39m
       [33m[2m‚úì[22m[39m should show progress bar with correct aria attributes [33m 1809[2mms[22m[39m
       [33m[2m‚úì[22m[39m should display file generation status [33m 565[2mms[22m[39m
       [33m[2m‚úì[22m[39m should show download button when export is ready [33m 2291[2mms[22m[39m
       [33m[2m‚úì[22m[39m should display success message when ready [33m 1473[2mms[22m[39m
       [33m[2m‚úì[22m[39m should open download URL when download button clicked [33m 1591[2mms[22m[39m
       [33m[2m‚úì[22m[39m should show email delivery button when ready [33m 1495[2mms[22m[39m
       [33m[2m‚úì[22m[39m should announce export status changes [33m 1186[2mms[22m[39m
       [33m[2m‚úì[22m[39m should handle status polling error gracefully [33m 1207[2mms[22m[39m
 [31m‚ùØ[39m src/__tests__/components/ValidationScreen.test.tsx [2m([22m[2m40 tests[22m[2m | [22m[31m16 failed[39m[2m)[22m[33m 242664[2mms[22m[39m
       [33m[2m‚úì[22m[39m should render without crashing [33m 705[2mms[22m[39m
       [32m‚úì[39m should render with provided validation stats[32m 69[2mms[22m[39m
       [32m‚úì[39m should render all stat cards with correct values[32m 61[2mms[22m[39m
       [32m‚úì[39m should display formatted date and time[32m 127[2mms[22m[39m
       [32m‚úì[39m should render progress bar with correct completion rate[32m 71[2mms[22m[39m
       [32m‚úì[39m should render all tab buttons[32m 254[2mms[22m[39m
       [32m‚úì[39m should render sensor locations when provided[32m 141[2mms[22m[39m
       [32m‚úì[39m should render "run tests" button[32m 83[2mms[22m[39m
       [32m‚úì[39m should call onRunTests callback when clicked[32m 204[2mms[22m[39m
       [32m‚úì[39m should show loading state when tests are running[32m 244[2mms[22m[39m
[31m       [31m√ó[31m should return to normal state after tests complete[39m[33m 10013[2mms[22m[39m
       [32m‚úì[39m should display test statistics breakdown[32m 52[2mms[22m[39m
       [32m‚úì[39m should show correct status badge for completion rate >= 80%[32m 43[2mms[22m[39m
       [32m‚úì[39m should show pass status for 100% completion[32m 36[2mms[22m[39m
       [32m‚úì[39m should show warning status for 80-99% completion[32m 39[2mms[22m[39m
       [32m‚úì[39m should show fail status for < 80% completion[32m 36[2mms[22m[39m
       [32m‚úì[39m should render linear progress bar[32m 39[2mms[22m[39m
       [32m‚úì[39m should display progress legend with colored indicators[32m 47[2mms[22m[39m
       [32m‚úì[39m should start with surrogate tab active by default[32m 85[2mms[22m[39m
[31m       [31m√ó[31m should switch to testing tab when clicked[39m[33m 10017[2mms[22m[39m
[31m       [31m√ó[31m should switch to sentry tab when clicked[39m[33m 10010[2mms[22m[39m
[31m       [31m√ó[31m should switch to verification tab when clicked[39m[33m 10014[2mms[22m[39m
[31m       [31m√ó[31m should hide inactive tab panels[39m[33m 10003[2mms[22m[39m
[31m       [31m√ó[31m should show active tab panel[39m[33m 10009[2mms[22m[39m
[31m       [31m√ó[31m should render sensor table with locations[39m[33m 10016[2mms[22m[39m
[31m       [31m√ó[31m should display sensor coordinates[39m[33m 10008[2mms[22m[39m
[31m       [31m√ó[31m should show critical sensor indicators[39m[33m 10013[2mms[22m[39m
[31m       [31m√ó[31m should display inspection intervals[39m[33m 10012[2mms[22m[39m
[31m       [31m√ó[31m should render inspection schedule table[39m[33m 10016[2mms[22m[39m
[31m       [31m√ó[31m should display inspection durations[39m[33m 10008[2mms[22m[39m
[31m       [31m√ó[31m should have no accessibility violations[39m[33m 30007[2mms[22m[39m
       [32m‚úì[39m should have proper ARIA labels on tabs[32m 27[2mms[22m[39m
       [32m‚úì[39m should have proper tab panel ARIA attributes[32m 20[2mms[22m[39m
[31m       [31m√ó[31m should be keyboard navigable through tabs[39m[33m 30018[2mms[22m[39m
[31m       [31m√ó[31m should support Enter key to activate tabs[39m[33m 30011[2mms[22m[39m
       [32m‚úì[39m should have proper tablist role[32m 35[2mms[22m[39m
[31m       [31m√ó[31m should handle empty sensor locations gracefully[39m[33m 30010[2mms[22m[39m
       [32m‚úì[39m should handle undefined validation stats[32m 15[2mms[22m[39m
       [32m‚úì[39m should handle zero completion rate[32m 20[2mms[22m[39m
       [32m‚úì[39m should handle all tests passing[32m 23[2mms[22m[39m

[2m Test Files [22m [1m[31m12 failed[39m[22m[2m | [22m[1m[32m36 passed[39m[22m[2m | [22m[33m2 skipped[39m[90m (50)[39m
[2m      Tests [22m [1m[31m40 failed[39m[22m[2m | [22m[1m[32m2133 passed[39m[22m[2m | [22m[33m2 skipped[39m[90m (2175)[39m
[2m   Start at [22m 09:10:05
[2m   Duration [22m 249.52s[2m (transform 24.26s, setup 33.46s, import 56.19s, tests 384.62s, environment 102.61s)[22m

